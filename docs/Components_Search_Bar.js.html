<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Components/Search_Bar.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Components/Search_Bar.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { useState } from 'react';
import { validate } from 'uuid'
import { fetch_by_letters } from 'Data/UserByLetters';
import { DoorOpen, Search } from 'react-bootstrap-icons';
import { Display } from './Display';
/**
 * Search bar to handle search input.
 * @param {*} actions global actions
 * @returns an ID and it's hook will be passed on to process onto the display components or a list of possible users that match 
 */
export const SearchBar = ({actions}) => {
    const [display_id, set_display_id] = useState(null)
    const [foundID, set_found] = useState(false)
    const [inputId, setInputId] = useState('');
    const [users_list, set_users_list] = useState([])
    const handleInputChange = (event) => {
        setInputId(event.target.value);
    };
    const handleSubmit = (event) => {  //process the ID inputed and check if it's a valid ID, a string indicating name or just invalid
        console.log(inputId)
        event.preventDefault();
        if (validate(inputId)) {
            set_display_id(inputId)
            set_found(true)
        } else
        {
            fetch_by_letters(inputId,set_users_list)
            set_found(false)
        }
    }
    console.log(users_list)
    console.log(foundID)
    if (users_list.length > 0 &amp;&amp; !foundID) { // return a list of user that match the phrase entered
        return (
            &lt;>
                &lt;SearchBarDisplay inputId={inputId} handleInputChange={handleInputChange} handleSubmit={handleSubmit} />
                &lt;table class="table table-sm table-info">
                    &lt;caption>  Possible users with that name: &lt;/caption>
                    &lt;thead>
                        &lt;td>ID&lt;/td>
                        &lt;td>Name&lt;/td>
                        &lt;td>Surname&lt;/td>
                        &lt;td>Email&lt;/td>
                        &lt;td>     &lt;/td>
                    &lt;/thead>
                    &lt;tbody>
                        {users_list?.map((user) => &lt;UserBasic user={user} set_display_id={set_display_id } set_found={set_found} />)}
                    &lt;/tbody>
                &lt;/table>
            &lt;/>
        )
    } else if (display_id) { // pass the validated ID onto Display.js component
        return (
            &lt;>
                &lt;SearchBarDisplay inputId={inputId} handleInputChange={handleInputChange} handleSubmit={handleSubmit} />
                &lt;Display display_id={display_id} set_display_id={set_display_id} actions={actions} />
            &lt;/>
        )
    } else {
        return (
           &lt;SearchBarDisplay inputId={inputId} handleInputChange={handleInputChange} handleSubmit={handleSubmit} />
        )
    }

};
const SearchBarDisplay = ({inputId,handleInputChange,handleSubmit}) =>
{
    return (
        &lt;>
        &lt;input className='input1' id="inputID" type='text' value={inputId} onChange={handleInputChange} />
        &lt;button className='button1' onClick={handleSubmit}>&lt;Search>&lt;/Search>&lt;/button>
        &lt;/>
    )
}
export const UserBasic = ({ user, set_display_id,set_found}) => { // simple component to display user list and link to open these user
    const findID = () => {
        set_display_id(user.id)
        set_found(true)
    }
    return (
        &lt;tr>
            &lt;td>{user.id}&lt;/td>
            &lt;td>{user.name}&lt;/td>
            &lt;td>{user.surname}&lt;/td>
            &lt;td>{user.email}&lt;/td>
            &lt;button onClick={event => findID()}>&lt;DoorOpen>&lt;/DoorOpen>&lt;/button>
        &lt;/tr>
    )
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#AddingMember_Button">AddingMember_Button</a></li><li><a href="global.html#Adding_Member">Adding_Member</a></li><li><a href="global.html#Adding_Subgroup">Adding_Subgroup</a></li><li><a href="global.html#Adding_Subgroup_Button">Adding_Subgroup_Button</a></li><li><a href="global.html#Adding_User_Button">Adding_User_Button</a></li><li><a href="global.html#CreateDelayer">CreateDelayer</a></li><li><a href="global.html#Create_Group">Create_Group</a></li><li><a href="global.html#Delete_Group">Delete_Group</a></li><li><a href="global.html#Display">Display</a></li><li><a href="global.html#Get_Chart">Get_Chart</a></li><li><a href="global.html#Get_Each_Node">Get_Each_Node</a></li><li><a href="global.html#Get_Hierarchy">Get_Hierarchy</a></li><li><a href="global.html#Get_Member_Row">Get_Member_Row</a></li><li><a href="global.html#Get_Node">Get_Node</a></li><li><a href="global.html#Get_Sub_Group_Row">Get_Sub_Group_Row</a></li><li><a href="global.html#GroupAsyncInsert">GroupAsyncInsert</a></li><li><a href="global.html#GroupAsyncUpdate">GroupAsyncUpdate</a></li><li><a href="global.html#GroupFetch">GroupFetch</a></li><li><a href="global.html#GroupFetchHelper">GroupFetchHelper</a></li><li><a href="global.html#GroupMemberAdd">GroupMemberAdd</a></li><li><a href="global.html#GroupQuery">GroupQuery</a></li><li><a href="global.html#GroupQueryJSON">GroupQueryJSON</a></li><li><a href="global.html#GroupTypePage">GroupTypePage</a></li><li><a href="global.html#GroupTypePageFetch">GroupTypePageFetch</a></li><li><a href="global.html#GroupTypePageJSON">GroupTypePageJSON</a></li><li><a href="global.html#GroupType_Select">GroupType_Select</a></li><li><a href="global.html#HeaderTextInput">HeaderTextInput</a></li><li><a href="global.html#Hierarchy_Update">Hierarchy_Update</a></li><li><a href="global.html#MembershipAsyncInsert">MembershipAsyncInsert</a></li><li><a href="global.html#MembershipInsert_SearchBar">MembershipInsert_SearchBar</a></li><li><a href="global.html#MovingMember">MovingMember</a></li><li><a href="global.html#Moving_Condition">Moving_Condition</a></li><li><a href="global.html#Moving_Member">Moving_Member</a></li><li><a href="global.html#Moving_Subgroup">Moving_Subgroup</a></li><li><a href="global.html#Remove_Member">Remove_Member</a></li><li><a href="global.html#Replace_Condition">Replace_Condition</a></li><li><a href="global.html#RoleQuery">RoleQuery</a></li><li><a href="global.html#RoleQueryJSON">RoleQueryJSON</a></li><li><a href="global.html#SearchBar">SearchBar</a></li><li><a href="global.html#Table_Display">Table_Display</a></li><li><a href="global.html#TextInput">TextInput</a></li><li><a href="global.html#TwoStateButton">TwoStateButton</a></li><li><a href="global.html#Update_Group">Update_Group</a></li><li><a href="global.html#Update_Member">Update_Member</a></li><li><a href="global.html#Updating_Subgroup">Updating_Subgroup</a></li><li><a href="global.html#UserBasic">UserBasic</a></li><li><a href="global.html#UserQuery">UserQuery</a></li><li><a href="global.html#UserQueryJSON">UserQueryJSON</a></li><li><a href="global.html#UserbyLetters">UserbyLetters</a></li><li><a href="global.html#UserbyLettersFetch">UserbyLettersFetch</a></li><li><a href="global.html#UserbyLettersJSON">UserbyLettersJSON</a></li><li><a href="global.html#authorizedFetch">authorizedFetch</a></li><li><a href="global.html#fetch_by_letters">fetch_by_letters</a></li><li><a href="global.html#groupMutationJSON">groupMutationJSON</a></li><li><a href="global.html#group_type_fetch">group_type_fetch</a></li><li><a href="global.html#groupinsertMutationJSON">groupinsertMutationJSON</a></li><li><a href="global.html#groupupdateMutationJSON">groupupdateMutationJSON</a></li><li><a href="global.html#membershipInsertJSON">membershipInsertJSON</a></li><li><a href="global.html#onClickDeleteGroup">onClickDeleteGroup</a></li><li><a href="global.html#onClickDeleteMember">onClickDeleteMember</a></li><li><a href="global.html#onMove">onMove</a></li><li><a href="global.html#onSubgroupAdd">onSubgroupAdd</a></li><li><a href="global.html#onUserAdd">onUserAdd</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Sun Jul 02 2023 22:21:40 GMT+0200 (Central European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
